[gd_scene load_steps=28 format=2]

[ext_resource path="res://textures/icons/ei-archive.svg" type="Texture" id=1]
[ext_resource path="res://textures/icons/ei-share-apple.svg" type="Texture" id=2]
[ext_resource path="res://textures/tiles/player.png" type="Texture" id=3]
[ext_resource path="res://scripts/grid_entity/grid_actor.gd" type="Script" id=4]
[ext_resource path="res://scripts/grid_world.gd" type="Script" id=5]
[ext_resource path="res://tilesets/test_tileset.tres" type="TileSet" id=6]
[ext_resource path="res://textures/icons/ei-close.svg" type="Texture" id=7]
[ext_resource path="res://scenes/curve_edit.gd" type="Script" id=8]
[ext_resource path="res://textures/icons/ei-arrow-right.svg" type="Texture" id=9]
[ext_resource path="res://scripts/action_manager.gd" type="Script" id=10]
[ext_resource path="res://scripts/moveset_editor/moveset_editor.gd" type="Script" id=11]
[ext_resource path="res://scripts/moveset_editor/demo_area.gd" type="Script" id=12]
[ext_resource path="res://scripts/moveset_editor/moveset_editor_inspector_gadget.gd" type="Script" id=13]
[ext_resource path="res://scripts/moveset_editor/inspector_gadget/gadgets/gadget_string.gd" type="Script" id=14]
[ext_resource path="res://scripts/moveset_editor/input_list.gd" type="Script" id=15]
[ext_resource path="res://textures/icons/ei-plus.svg" type="Texture" id=16]
[ext_resource path="res://scripts/signal_receiver.gd" type="Script" id=17]
[ext_resource path="res://scripts/moveset_editor/motion_list.gd" type="Script" id=18]
[ext_resource path="res://scripts/moveset_editor/inspector_gadget/gadgets/gadget_resource/gadget_motion_choice.gd" type="Script" id=20]

[sub_resource type="ButtonGroup" id=1]
resource_name = "Header Button Group"

[sub_resource type="GDScript" id=2]
script/source = "extends Control

func hide_editors() -> void:
	$MovesetHBox.visible = false
	$MotionVBox.visible = false

func show_moveset_editor() -> void:
	$MotionVBox.visible = false
	$MovesetHBox.visible = true

func show_motion_editor() -> void:
	$MovesetHBox.visible = false
	$MotionVBox.visible = true
"

[sub_resource type="GDScript" id=3]
script/source = "extends Control

func show() -> void:
	visible = true

func hide() -> void:
	visible = false

func toggle() -> void:
	if visible:
		hide()
	else:
		show()
"

[sub_resource type="GDScript" id=4]
script/source = "extends PanelContainer

func populate_curve(curve: Curve, min_value: float = -1.0, max_value: float = 1.0, color: Color = Color.white) -> void:
	$CurveEdit.set_curve(curve)
	$CurveEdit.set_min_value(min_value)
	$CurveEdit.set_max_value(max_value)
	$CurveEdit.set_color(color)
	set_visible(true)

func close_curve() -> void:
	$CurveEdit.set_curve(null)
	set_visible(false)

func motion_selected(motion) -> void:
	close_curve()

func move_selected(motion: GridMotion) -> void:
	close_curve()

"

[sub_resource type="GDScript" id=5]
script/source = "extends HBoxContainer

signal mouse_wheel_up()
signal mouse_wheel_down()

var pressed = false

func _gui_input(event: InputEvent) -> void:
	if event is InputEventMouseMotion:
		if pressed:
			rect_position.x += event.relative.x
			rect_position.x = min(rect_position.x, -get_child(2).rect_size.x + min(get_child(0).rect_size.x, get_parent().rect_size.x))
			rect_position.x = max(rect_position.x, -(rect_size.x - max(get_parent().rect_size.x, get_child(2).rect_size.x)))
	if event is InputEventMouseButton:
		match event.button_index:
			BUTTON_RIGHT:
				pressed = event.pressed
			BUTTON_WHEEL_UP:
				emit_signal(\"mouse_wheel_up\")
			BUTTON_WHEEL_DOWN:
				emit_signal(\"mouse_wheel_down\")
"

[sub_resource type="GDScript" id=6]
script/source = "extends Control

signal motion_selected(motion)
signal move_selected(move)
signal curve_selected(curve, min_value, max_value, color)
signal zoom_changed(zoom)

export(float) var zoom_sensitivity := 0.1

var zoom := 1.0
var button_group = ButtonGroup.new()
var cached_motion: GridMotion = null

onready var timeline_hbox = $HBoxContainer

# Setters
func set_zoom(new_zoom: float) -> void:
	new_zoom = clamp(new_zoom, 0.01, 8)
	if zoom != new_zoom:
		zoom = new_zoom
		emit_signal(\"zoom_changed\", zoom)
		size_flags_stretch_ratio = zoom

func populate_motion(motion: GridMotion):
	cached_motion = motion

	for child in timeline_hbox.get_children():
		if child is VBoxContainer:
			timeline_hbox.remove_child(child)
			child.queue_free()

	if not motion:
		return

	populate_motion_internal(motion, true)

func repopulate_motion() -> void:
	populate_motion(cached_motion)

func populate_motion_internal(motion: GridMotion, active: bool = false) -> void:
	var node = Button.new()
	node.text = motion.get_name()
	node.clip_text = true
	node.toggle_mode = true
	node.pressed = active
	node.group = button_group
	node.mouse_filter = MOUSE_FILTER_PASS
	node.size_flags_horizontal = SIZE_EXPAND_FILL
	node.size_flags_vertical = SIZE_EXPAND_FILL
	node.connect(\"pressed\", self, \"handle_motion_selected\", [motion])

	var curve_rect = CurveRect.new()
	curve_rect.set_curve(motion.motion_curve)
	curve_rect.set_min_value(0.0)
	curve_rect.set_max_value(1.0)
	curve_rect.anchor_right = 1
	curve_rect.anchor_bottom = 1
	curve_rect.mouse_filter = MOUSE_FILTER_IGNORE

	var curve_button = Button.new()
	curve_button.mouse_filter = MOUSE_FILTER_PASS
	curve_button.size_flags_horizontal = SIZE_EXPAND_FILL
	curve_button.size_flags_vertical = SIZE_EXPAND_FILL
	curve_button.toggle_mode = true
	curve_button.group = button_group
	curve_button.connect(\"pressed\", self, \"handle_curve_selected\", [motion.motion_curve, 0.0, 1.0, Color.white])
	curve_button.add_child(curve_rect)

	var move_hbox = HBoxContainer.new()
	move_hbox.size_flags_horizontal = SIZE_EXPAND_FILL
	move_hbox.size_flags_vertical = SIZE_EXPAND_FILL
	move_hbox.size_flags_stretch_ratio = 4.0
	move_hbox.set(\"custom_constants/separation\", 0)

	for move in motion.motion_moves:
		move_hbox.add_child(populate_move(move))

	var vbox = VBoxContainer.new()
	vbox.set_meta(\"grid_motion\", motion)
	vbox.size_flags_horizontal = SIZE_EXPAND_FILL
	vbox.size_flags_vertical = SIZE_EXPAND_FILL
	vbox.size_flags_stretch_ratio = motion.get_duration() if motion.motion_moves.size() > 0 else 1.0
	vbox.add_child(node)
	vbox.add_child(curve_button)
	vbox.add_child(move_hbox)
	vbox.set(\"custom_constants/separation\", 0)

	timeline_hbox.add_child(vbox)

	if motion.next_motion:
		populate_motion_internal(motion.next_motion)

func populate_move(move: GridMove) -> Button:
	var node = Button.new()

	var move_name = move.get_name()
	node.text = move_name if not move_name == \"\" else \"Move\"
	node.size_flags_horizontal = SIZE_EXPAND_FILL
	node.size_flags_vertical = SIZE_EXPAND_FILL
	node.clip_text = true
	node.toggle_mode = true
	node.group = button_group
	node.set_meta(\"grid_move\", move)

	node.mouse_filter = MOUSE_FILTER_PASS

	node.size_flags_horizontal = SIZE_EXPAND_FILL
	node.size_flags_vertical = SIZE_EXPAND_FILL

	node.connect(\"pressed\", self, \"handle_move_selected\", [move])

	var curve_rect_x = CurveRect.new()
	curve_rect_x.set_curve(move.curve_x)
	curve_rect_x.color = Color.red
	curve_rect_x.anchor_right = 1
	curve_rect_x.anchor_bottom = 1
	curve_rect_x.mouse_filter = MOUSE_FILTER_IGNORE

	var curve_button_x = Button.new()
	curve_button_x.mouse_filter = MOUSE_FILTER_PASS
	curve_button_x.size_flags_horizontal = SIZE_EXPAND_FILL
	curve_button_x.size_flags_vertical = SIZE_EXPAND_FILL
	curve_button_x.toggle_mode = true
	curve_button_x.group = button_group
	curve_button_x.connect(\"pressed\", self, \"handle_curve_selected\", [move.curve_x, -1.0, 1.0, Color.red])
	curve_button_x.add_child(curve_rect_x)

	var curve_rect_y = CurveRect.new()
	curve_rect_y.set_curve(move.curve_y)
	curve_rect_y.color = Color.green
	curve_rect_y.anchor_right = 1
	curve_rect_y.anchor_bottom = 1
	curve_rect_y.mouse_filter = MOUSE_FILTER_IGNORE

	var curve_button_y = Button.new()
	curve_button_y.mouse_filter = MOUSE_FILTER_PASS
	curve_button_y.size_flags_horizontal = SIZE_EXPAND_FILL
	curve_button_y.size_flags_vertical = SIZE_EXPAND_FILL
	curve_button_y.toggle_mode = true
	curve_button_y.group = button_group
	curve_button_y.connect(\"pressed\", self, \"handle_curve_selected\", [move.curve_y, -1.0, 1.0, Color.green])
	curve_button_y.add_child(curve_rect_y)

	var curve_rect_facing = CurveRect.new()
	curve_rect_facing.set_curve(move.curve_facing)
	curve_rect_facing.color = Color.blue
	curve_rect_facing.anchor_right = 1
	curve_rect_facing.anchor_bottom = 1
	curve_rect_facing.mouse_filter = MOUSE_FILTER_IGNORE

	var curve_button_facing = Button.new()
	curve_button_facing.mouse_filter = MOUSE_FILTER_PASS
	curve_button_facing.size_flags_horizontal = SIZE_EXPAND_FILL
	curve_button_facing.size_flags_vertical = SIZE_EXPAND_FILL
	curve_button_facing.toggle_mode = true
	curve_button_facing.group = button_group
	curve_button_facing.connect(\"pressed\", self, \"handle_curve_selected\", [move.curve_facing, -1.0, 1.0, Color.blue])
	curve_button_facing.add_child(curve_rect_facing)

	var vbox = VBoxContainer.new()
	vbox.size_flags_horizontal = SIZE_EXPAND_FILL
	vbox.size_flags_vertical = SIZE_EXPAND_FILL
	vbox.size_flags_stretch_ratio = move.duration
	vbox.set(\"custom_constants/separation\", 0)
	vbox.add_child(node)
	vbox.add_child(curve_button_x)
	vbox.add_child(curve_button_y)
	vbox.add_child(curve_button_facing)

	return vbox

func handle_motion_selected(motion: GridMotion):
	emit_signal(\"motion_selected\", motion)

func handle_curve_selected(curve: Curve, min_value: float, max_value: float, color: Color):
	emit_signal(\"curve_selected\", curve, min_value, max_value, color)

func handle_move_selected(move: GridMove):
	emit_signal(\"move_selected\", move)

func adjust_zoom(delta: float):
	set_zoom(zoom + (delta * zoom))

func set_animation_progress(animation_progress: float) -> void:
	for child in timeline_hbox.get_children():
		if child.get_meta(\"grid_motion\") == current_motion:
			$PlayHead.rect_position.x = child.rect_position.x + (child.rect_size.x * animation_progress)
			break

var current_motion = null
func set_current_motion(new_current_motion: GridMotion) -> void:
	if current_motion != new_current_motion:
		current_motion = new_current_motion
"

[sub_resource type="GDScript" id=7]
script/source = "extends FileDialog
"

[sub_resource type="GDScript" id=8]
script/source = "extends Control
tool

func _ready() -> void:
	set_meta(\"_edit_lock_\", true)
	queue_redraw()

func queue_redraw():
	update()
	yield(get_tree().create_timer(0.1), \"timeout\")
	queue_redraw()

func _draw() -> void:
	var root_node = get_owner()
	draw_connections(root_node)

func draw_connections(node: Node):
	if not node.has_method('is_visible_in_tree'):
		return

	if not node.is_visible_in_tree():
		return

	var signal_list = node.get_signal_list()
	for signal_dict in signal_list:
		var signal_name = signal_dict['name']
		var connections = node.get_signal_connection_list(signal_name)
		for connection in connections:
			draw_connection(connection)

	for child in node.get_children():
		draw_connections(child)

func draw_connection(connection: Dictionary):
	if not CONNECT_PERSIST & connection['flags'] == CONNECT_PERSIST:
		return

	var source = connection['source']
	var target = connection['target']

	if not target.has_method('is_visible_in_tree'):
		return

	if not target.is_visible_in_tree():
		return

	if not 'rect_global_position' in source or not 'rect_global_position' in target:
		return

	var from = source.rect_global_position + source.rect_size * 0.5
	var to = target.rect_global_position + target.rect_size * 0.5

	var delta = (to - from).normalized()

	draw_circle(from, 2.0, Color.pink)
	draw_circle(to, 2.0, Color.pink)
	draw_arrow(from + delta * 5.0, to - delta * 5.0, Color.red)

func draw_arrow(from: Vector2, to: Vector2, color: Color, width: float = 1.0, antialiased: bool = false):
	draw_line(from, to, color, width, antialiased)

	var tf = (from - to).normalized()
	var left_spoke = tf.rotated(deg2rad(-30.0))
	var right_spoke = tf.rotated(deg2rad(30.0))
	draw_line(to, to + left_spoke * 10.0, color, width, antialiased)
	draw_line(to, to + right_spoke * 10.0, color, width, antialiased)
"

[node name="MovesetEditor" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 11 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ActionManager" type="Node" parent="."]
script = ExtResource( 10 )

[node name="VBoxContainer" type="VBoxContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
custom_constants/separation = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Toolbar" type="PanelContainer" parent="VBoxContainer"]
margin_right = 960.0
margin_bottom = 47.0

[node name="ToolbarHBox" type="HBoxContainer" parent="VBoxContainer/Toolbar"]
margin_left = 7.0
margin_top = 7.0
margin_right = 953.0
margin_bottom = 40.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="OpenButton" type="ToolButton" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_right = 37.0
margin_bottom = 33.0
hint_tooltip = "Open Moveset"
icon = ExtResource( 1 )

[node name="SaveButton" type="ToolButton" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 37.0
margin_right = 74.0
margin_bottom = 33.0
hint_tooltip = "Save Moveset"
disabled = true
icon = ExtResource( 2 )
script = ExtResource( 17 )

[node name="Control3" type="Control" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 74.0
margin_right = 273.0
margin_bottom = 33.0
size_flags_horizontal = 3

[node name="MovesetTab" type="Button" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 273.0
margin_right = 472.0
margin_bottom = 33.0
size_flags_horizontal = 3
disabled = true
toggle_mode = true
pressed = true
group = SubResource( 1 )
text = "Moveset"
script = ExtResource( 17 )

[node name="MotionTab" type="Button" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 472.0
margin_right = 671.0
margin_bottom = 33.0
size_flags_horizontal = 3
disabled = true
toggle_mode = true
group = SubResource( 1 )
text = "Motion"
script = ExtResource( 17 )

[node name="Control" type="Control" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 671.0
margin_right = 870.0
margin_bottom = 33.0
size_flags_horizontal = 3

[node name="Control2" type="Control" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 870.0
margin_right = 907.0
margin_bottom = 33.0
rect_min_size = Vector2( 37, 0 )
size_flags_vertical = 3

[node name="CloseButton" type="ToolButton" parent="VBoxContainer/Toolbar/ToolbarHBox"]
margin_left = 907.0
margin_right = 944.0
margin_bottom = 33.0
hint_tooltip = "Close Moveset"
disabled = true
icon = ExtResource( 7 )

[node name="MainArea" type="Control" parent="VBoxContainer"]
margin_top = 47.0
margin_right = 960.0
margin_bottom = 960.0
size_flags_vertical = 3
script = SubResource( 2 )

[node name="MovesetHBox" type="HBoxContainer" parent="VBoxContainer/MainArea"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
custom_constants/separation = 0
script = SubResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox"]
margin_right = 960.0
margin_bottom = 913.0
size_flags_horizontal = 3
custom_constants/separation = 0

[node name="MovesetProperties" type="PanelContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer"]
margin_right = 960.0
margin_bottom = 102.0

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties"]
margin_left = 7.0
margin_top = 7.0
margin_right = 953.0
margin_bottom = 95.0
__meta__ = {
"_edit_lock_": true
}

[node name="PathLabel" type="Label" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties/VBoxContainer"]
margin_right = 946.0
margin_bottom = 14.0
text = "Path"

[node name="PathGadget" type="MarginContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties/VBoxContainer"]
margin_top = 18.0
margin_right = 946.0
margin_bottom = 42.0
script = ExtResource( 14 )
node_path = NodePath("../../../../../../..")
subnames = ":moveset:resource_path"
editable = false

[node name="NameLabel" type="Label" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties/VBoxContainer"]
margin_top = 46.0
margin_right = 946.0
margin_bottom = 60.0
text = "Name"

[node name="NameGadget" type="MarginContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties/VBoxContainer"]
margin_top = 64.0
margin_right = 946.0
margin_bottom = 88.0
script = ExtResource( 14 )
node_path = NodePath("../../../../../../..")
subnames = ":moveset:resource_name"

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer"]
margin_top = 102.0
margin_right = 960.0
margin_bottom = 913.0
size_flags_vertical = 3
custom_constants/separation = 0

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer"]
margin_right = 480.0
margin_bottom = 811.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/PanelContainer"]
margin_left = 7.0
margin_top = 7.0
margin_right = 473.0
margin_bottom = 804.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Label" type="Label" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/PanelContainer/VBoxContainer"]
margin_right = 466.0
margin_bottom = 25.0
rect_min_size = Vector2( 0, 25 )
text = "Inputs"
valign = 1

[node name="ScrollContainer" type="ScrollContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/PanelContainer/VBoxContainer"]
margin_top = 29.0
margin_right = 466.0
margin_bottom = 797.0
size_flags_horizontal = 3
size_flags_vertical = 3
scroll_horizontal_enabled = false

[node name="InputList" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/PanelContainer/VBoxContainer/ScrollContainer"]
margin_right = 466.0
margin_bottom = 768.0
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource( 15 )

[node name="VBoxContainer2" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer"]
margin_left = 480.0
margin_right = 960.0
margin_bottom = 811.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="PanelContainer2" type="PanelContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2"]
margin_right = 480.0
margin_bottom = 811.0
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2"]
margin_left = 7.0
margin_top = 7.0
margin_right = 473.0
margin_bottom = 804.0

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer"]
margin_right = 466.0
margin_bottom = 25.0
__meta__ = {
"_edit_lock_": true
}

[node name="Label2" type="Label" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/HBoxContainer"]
margin_right = 437.0
margin_bottom = 25.0
size_flags_horizontal = 3
size_flags_vertical = 1
text = "Motions"

[node name="NewMotionButton" type="ToolButton" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/HBoxContainer"]
margin_left = 441.0
margin_right = 466.0
margin_bottom = 25.0
rect_min_size = Vector2( 25, 25 )
size_flags_horizontal = 8
disabled = true
expand_icon = true
script = ExtResource( 17 )
__meta__ = {
"_edit_group_": true
}

[node name="TextureRect" type="TextureRect" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/HBoxContainer/NewMotionButton"]
margin_right = 25.0
margin_bottom = 25.0
texture = ExtResource( 16 )
expand = true
stretch_mode = 1
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ScrollContainer" type="ScrollContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer"]
margin_top = 29.0
margin_right = 466.0
margin_bottom = 797.0
size_flags_horizontal = 3
size_flags_vertical = 3
scroll_horizontal_enabled = false

[node name="MotionList" type="VBoxContainer" parent="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/ScrollContainer"]
margin_right = 466.0
margin_bottom = 768.0
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource( 18 )

[node name="MotionVBox" type="VBoxContainer" parent="VBoxContainer/MainArea"]
anchor_right = 1.0
anchor_bottom = 1.0
custom_constants/separation = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MainHBox" type="HBoxContainer" parent="VBoxContainer/MainArea/MotionVBox"]
margin_right = 960.0
margin_bottom = 532.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 1.4
custom_constants/separation = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBoxContainer2" type="VBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox"]
margin_right = 480.0
margin_bottom = 532.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2"]
margin_right = 480.0
margin_bottom = 487.0
size_flags_horizontal = 3
size_flags_vertical = 3
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer"]
margin_left = 7.0
margin_top = 7.0
margin_right = 473.0
margin_bottom = 480.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="ViewportContainer" type="ViewportContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 13.0
margin_top = 16.5
margin_right = -13.0
margin_bottom = -16.5
stretch = true
stretch_shrink = 2
script = ExtResource( 12 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Viewport" type="Viewport" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer"]
size = Vector2( 220, 220 )
size_override_stretch = true
handle_input_locally = false
hdr = false
usage = 0
render_target_update_mode = 3
audio_listener_enable_2d = true

[node name="GridWorld" type="Node2D" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport"]
script = ExtResource( 5 )
__meta__ = {
"_edit_lock_": true
}

[node name="TileMap" type="TileMap" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport/GridWorld"]
tile_set = ExtResource( 6 )
cell_size = Vector2( 20, 20 )
format = 1
tile_data = PoolIntArray( 0, 2, 0, 1, 2, 0, 2, 2, 0, 3, 2, 0, 4, 2, 0, 5, 2, 0, 6, 2, 0, 7, 2, 0, 8, 2, 0, 9, 2, 0, 10, 2, 0, 65536, 2, 0, 65537, 1, 0, 65538, 1, 0, 65539, 1, 0, 65540, 1, 0, 65541, 1, 0, 65542, 1, 0, 65543, 1, 0, 65544, 1, 0, 65545, 1, 0, 65546, 2, 0, 131072, 2, 0, 131073, 1, 0, 131074, 1, 0, 131075, 1, 0, 131076, 1, 0, 131077, 1, 0, 131078, 1, 0, 131079, 1, 0, 131080, 1, 0, 131081, 1, 0, 131082, 2, 0, 196608, 2, 0, 196609, 1, 0, 196610, 1, 0, 196611, 1, 0, 196612, 1, 0, 196613, 1, 0, 196614, 1, 0, 196615, 1, 0, 196616, 1, 0, 196617, 1, 0, 196618, 2, 0, 262144, 2, 0, 262145, 1, 0, 262146, 1, 0, 262147, 1, 0, 262148, 1, 0, 262149, 1, 0, 262150, 1, 0, 262151, 1, 0, 262152, 1, 0, 262153, 1, 0, 262154, 2, 0, 327680, 2, 0, 327681, 1, 0, 327682, 1, 0, 327683, 1, 0, 327684, 1, 0, 327685, 1, 0, 327686, 1, 0, 327687, 1, 0, 327688, 1, 0, 327689, 1, 0, 327690, 2, 0, 393216, 2, 0, 393217, 1, 0, 393218, 1, 0, 393219, 1, 0, 393220, 1, 0, 393221, 1, 0, 393222, 1, 0, 393223, 1, 0, 393224, 1, 0, 393225, 1, 0, 393226, 2, 0, 458752, 2, 0, 458753, 1, 0, 458754, 1, 0, 458755, 1, 0, 458756, 1, 0, 458757, 1, 0, 458758, 1, 0, 458759, 1, 0, 458760, 1, 0, 458761, 1, 0, 458762, 2, 0, 524288, 2, 0, 524289, 1, 0, 524290, 1, 0, 524291, 1, 0, 524292, 1, 0, 524293, 1, 0, 524294, 1, 0, 524295, 1, 0, 524296, 1, 0, 524297, 1, 0, 524298, 2, 0, 589824, 2, 0, 589825, 1, 0, 589826, 1, 0, 589827, 1, 0, 589828, 1, 0, 589829, 1, 0, 589830, 1, 0, 589831, 1, 0, 589832, 1, 0, 589833, 1, 0, 589834, 2, 0, 655360, 2, 0, 655361, 2, 0, 655362, 2, 0, 655363, 2, 0, 655364, 2, 0, 655365, 2, 0, 655366, 2, 0, 655367, 2, 0, 655368, 2, 0, 655369, 2, 0, 655370, 2, 0 )
__meta__ = {
"_edit_lock_": true
}

[node name="GridActor" type="Node2D" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport/GridWorld"]
position = Vector2( 100, 100 )
script = ExtResource( 4 )
__meta__ = {
"_edit_lock_": true
}
sprite_texture = ExtResource( 3 )
x = 5
y = 5
facing = 0
opacity = 1.0
solid = true
moveset = null

[node name="Offset" type="Node2D" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport/GridWorld/GridActor"]
position = Vector2( 10, 10 )
__meta__ = {
"_edit_lock_": true
}

[node name="Sprite" type="Sprite" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport/GridWorld/GridActor/Offset"]
texture = ExtResource( 3 )
__meta__ = {
"_edit_lock_": true
}

[node name="PanelContainer2" type="PanelContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2"]
margin_top = 487.0
margin_right = 480.0
margin_bottom = 532.0

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer2"]
margin_left = 7.0
margin_top = 7.0
margin_right = 473.0
margin_bottom = 38.0

[node name="Button" type="Button" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer2/HBoxContainer"]
margin_left = 214.0
margin_right = 251.0
margin_bottom = 31.0
rect_min_size = Vector2( 25, 25 )
hint_tooltip = "Play"
size_flags_horizontal = 6
icon = ExtResource( 9 )

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox"]
margin_left = 480.0
margin_right = 960.0
margin_bottom = 532.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0

[node name="Header" type="PanelContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer"]
margin_right = 480.0
margin_bottom = 56.0
size_flags_horizontal = 3

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/Header"]
margin_left = 7.0
margin_top = 7.0
margin_right = 473.0
margin_bottom = 49.0
__meta__ = {
"_edit_lock_": true
}

[node name="Label" type="Label" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/Header/VBoxContainer"]
margin_right = 466.0
margin_bottom = 14.0
text = "Name"

[node name="GadgetString" type="MarginContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/Header/VBoxContainer"]
margin_top = 18.0
margin_right = 466.0
margin_bottom = 42.0
script = ExtResource( 14 )
node_path = NodePath("../../../../../../../..")
subnames = ":selected_motion:resource_name"

[node name="InspectorGadget" type="PanelContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer"]
margin_top = 56.0
margin_right = 480.0
margin_bottom = 532.0
size_flags_vertical = 3
script = ExtResource( 13 )
node_path = NodePath("../../../../../..")
subnames = ":selected_motion"
property_blacklist = [ "motion_moves", "motion_curve", "curve_x", "curve_y", "curve_facing" ]
resource_gadgets = [ ExtResource( 20 ) ]

[node name="CurveEditPanel" type="PanelContainer" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer"]
visible = false
margin_top = 266.0
margin_right = 480.0
margin_bottom = 532.0
size_flags_horizontal = 3
size_flags_vertical = 3
script = SubResource( 4 )
__meta__ = {
"_edit_lock_": true
}

[node name="CurveEdit" type="Control" parent="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/CurveEditPanel"]
margin_left = 7.0
margin_top = 7.0
margin_right = 473.0
margin_bottom = 259.0
size_flags_vertical = 3
script = ExtResource( 8 )
curve = null
min_value = -1.0
max_value = 1.0
color = Color( 1, 1, 1, 1 )

[node name="TimelineVBox" type="VBoxContainer" parent="VBoxContainer/MainArea/MotionVBox"]
margin_top = 532.0
margin_right = 960.0
margin_bottom = 913.0
mouse_filter = 2
size_flags_vertical = 3
custom_constants/separation = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="PanelContainer" type="PanelContainer" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox"]
margin_right = 960.0
margin_bottom = 381.0
mouse_filter = 2
size_flags_vertical = 3

[node name="ColorRect" type="ColorRect" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer"]
margin_left = 7.0
margin_top = 7.0
margin_right = 953.0
margin_bottom = 374.0
rect_clip_content = true
mouse_filter = 2
size_flags_horizontal = 3
size_flags_vertical = 3
color = Color( 0, 0, 0, 1 )

[node name="VBoxContainer" type="VBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
custom_constants/separation = 0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Control" type="Control" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer"]
margin_right = 946.0
margin_bottom = 367.0
mouse_filter = 2
size_flags_vertical = 3

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control"]
anchor_left = -1.0
anchor_right = 2.0
anchor_bottom = 1.0
size_flags_horizontal = 0
size_flags_vertical = 3
custom_constants/separation = 0
script = SubResource( 5 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Spacer" type="Control" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer"]
margin_right = 946.0
margin_bottom = 367.0
mouse_filter = 1
size_flags_horizontal = 3

[node name="MotionTimeline" type="Control" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer"]
margin_left = 946.0
margin_right = 1892.0
margin_bottom = 367.0
mouse_filter = 1
size_flags_horizontal = 3
script = SubResource( 6 )

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 1.71478
margin_top = 0.857361
margin_right = 1.71478
margin_bottom = 0.857361
custom_constants/separation = 0
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="PlayHead" type="ColorRect" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline"]
anchor_bottom = 1.0
margin_right = 1.0
rect_min_size = Vector2( 1, 0 )
size_flags_vertical = 3
color = Color( 0.815686, 0, 0, 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="Spacer2" type="Control" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer"]
margin_left = 1892.0
margin_right = 2838.0
margin_bottom = 367.0
mouse_filter = 1
size_flags_horizontal = 3

[node name="HBoxContainer" type="HBoxContainer" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox"]
margin_top = 381.0
margin_right = 960.0
margin_bottom = 381.0

[node name="Control" type="Control" parent="VBoxContainer/MainArea/MotionVBox/TimelineVBox/HBoxContainer"]
margin_right = 960.0
size_flags_horizontal = 3

[node name="MovesetFileDialog" type="FileDialog" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 10.0
margin_top = 30.0
margin_right = -10.0
margin_bottom = -10.0
window_title = "Open a File"
mode = 0
filters = PoolStringArray( "*.tres" )
current_dir = "res://resources/moveset"
current_file = "basic_input_map.tres"
current_path = "res://resources/moveset/basic_input_map.tres"
script = ExtResource( 17 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MotionFileDialog" type="FileDialog" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 10.0
margin_top = 30.0
margin_right = -10.0
margin_bottom = -10.0
window_title = "Open a File"
mode = 0
filters = PoolStringArray( "*.tres" )
current_dir = "res://resources/grid_motion"
current_path = "res://resources/grid_motion/"
script = SubResource( 7 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="SignalVisualizer2D" type="Control" parent="."]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
script = SubResource( 8 )
__meta__ = {
"_edit_lock_": true,
"_editor_lock": true
}
[connection signal="curve_selected" from="." to="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/CurveEditPanel" method="populate_curve"]
[connection signal="hide_editors" from="." to="VBoxContainer/MainArea" method="hide_editors"]
[connection signal="motion_invalid_changed" from="." to="VBoxContainer/Toolbar/ToolbarHBox/MotionTab" method="set_disabled"]
[connection signal="motion_selected" from="." to="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/CurveEditPanel" method="motion_selected"]
[connection signal="move_selected" from="." to="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/CurveEditPanel" method="move_selected"]
[connection signal="moveset_changed" from="." to="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/PanelContainer/VBoxContainer/ScrollContainer/InputList" method="populate_moveset"]
[connection signal="moveset_changed" from="." to="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/ScrollContainer/MotionList" method="populate_moveset"]
[connection signal="moveset_invalid_changed" from="." to="VBoxContainer/Toolbar/ToolbarHBox/MovesetTab" method="set_disabled"]
[connection signal="moveset_invalid_changed" from="." to="VBoxContainer/Toolbar/ToolbarHBox/CloseButton" method="set_disabled"]
[connection signal="moveset_invalid_changed" from="." to="VBoxContainer/Toolbar/ToolbarHBox/SaveButton" method="set_disabled"]
[connection signal="moveset_invalid_changed" from="." to="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/HBoxContainer/NewMotionButton" method="set_disabled"]
[connection signal="moveset_motions_changed" from="." to="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/PanelContainer/VBoxContainer/ScrollContainer/InputList" method="repopulate_moveset"]
[connection signal="moveset_motions_changed" from="." to="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/ScrollContainer/MotionList" method="repopulate_moveset"]
[connection signal="moveset_motions_changed_value" from="." to="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/InspectorGadget" method="set_moveset_motions"]
[connection signal="property_change_begin" from="." to="ActionManager" method="property_change_begin"]
[connection signal="property_change_end" from="." to="ActionManager" method="property_change_end"]
[connection signal="property_changed" from="." to="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" method="repopulate_motion"]
[connection signal="selected_motion_changed" from="." to="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" method="populate_motion"]
[connection signal="selected_motion_changed" from="." to="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/InspectorGadget" method="set_ignore_motion"]
[connection signal="show_motion_editor" from="." to="VBoxContainer/Toolbar/ToolbarHBox/MotionTab" method="set_pressed" binds= [ true ]]
[connection signal="show_motion_editor" from="." to="VBoxContainer/MainArea" method="show_motion_editor"]
[connection signal="show_moveset_editor" from="." to="VBoxContainer/Toolbar/ToolbarHBox/MovesetTab" method="set_pressed" binds= [ true ]]
[connection signal="show_moveset_editor" from="." to="VBoxContainer/MainArea" method="show_moveset_editor"]
[connection signal="property_changed" from="ActionManager" to="." method="property_changed"]
[connection signal="pressed" from="VBoxContainer/Toolbar/ToolbarHBox/OpenButton" to="MovesetFileDialog" method="popup"]
[connection signal="pressed" from="VBoxContainer/Toolbar/ToolbarHBox/SaveButton" to="." method="save_moveset"]
[connection signal="pressed" from="VBoxContainer/Toolbar/ToolbarHBox/MovesetTab" to="." method="show_moveset_editor"]
[connection signal="pressed" from="VBoxContainer/Toolbar/ToolbarHBox/MotionTab" to="." method="show_motion_editor"]
[connection signal="pressed" from="VBoxContainer/Toolbar/ToolbarHBox/CloseButton" to="." method="close_moveset"]
[connection signal="change_property_begin" from="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties/VBoxContainer/NameGadget" to="." method="property_change_begin"]
[connection signal="change_property_end" from="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/MovesetProperties/VBoxContainer/NameGadget" to="." method="property_change_end"]
[connection signal="pressed" from="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/HBoxContainer/NewMotionButton" to="." method="add_moveset_motion"]
[connection signal="delete_moveset_motion" from="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/ScrollContainer/MotionList" to="." method="delete_moveset_motion"]
[connection signal="motion_selected" from="VBoxContainer/MainArea/MovesetHBox/VBoxContainer/HBoxContainer/VBoxContainer2/PanelContainer2/VBoxContainer/ScrollContainer/MotionList" to="." method="set_selected_motion"]
[connection signal="animation_progress_changed" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport/GridWorld/GridActor" to="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" method="set_animation_progress"]
[connection signal="current_motion_changed" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer/Control/ViewportContainer/Viewport/GridWorld/GridActor" to="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" method="set_current_motion"]
[connection signal="pressed" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer2/PanelContainer2/HBoxContainer/Button" to="." method="demo_replay"]
[connection signal="change_property_begin" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/Header/VBoxContainer/GadgetString" to="." method="property_change_begin"]
[connection signal="change_property_end" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/Header/VBoxContainer/GadgetString" to="." method="property_change_end"]
[connection signal="change_property_begin" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/InspectorGadget" to="." method="property_change_begin"]
[connection signal="change_property_end" from="VBoxContainer/MainArea/MotionVBox/MainHBox/VBoxContainer/InspectorGadget" to="." method="property_change_end"]
[connection signal="mouse_wheel_down" from="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer" to="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" method="adjust_zoom" binds= [ -0.1 ]]
[connection signal="mouse_wheel_up" from="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer" to="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" method="adjust_zoom" binds= [ 0.1 ]]
[connection signal="curve_selected" from="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" to="." method="curve_selected"]
[connection signal="motion_selected" from="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" to="." method="motion_selected"]
[connection signal="move_selected" from="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" to="." method="move_selected"]
[connection signal="move_selected" from="VBoxContainer/MainArea/MotionVBox/TimelineVBox/PanelContainer/ColorRect/VBoxContainer/Control/HBoxContainer/MotionTimeline" to="." method="set_selected_move"]
[connection signal="file_selected" from="MovesetFileDialog" to="." method="set_moveset_path"]
[connection signal="file_selected" from="MotionFileDialog" to="." method="import_moveset_motion"]
